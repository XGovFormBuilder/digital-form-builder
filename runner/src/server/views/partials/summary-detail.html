{% from "./summary-row.html" import summaryRow %}
{% from "summary-list/macro.njk" import govukSummaryList -%}

{% macro summaryDetail(data) %}

    {% if data.iterations %}
      <h2 class="govuk-heading-m">{{data.pageTitle}}</h2>
      {% for iteration in data.iterations %}
      {{ govukSummaryList(iteration)}}
      {% endfor %}
    {% endif %}

  <dl class="govuk-summary-list">
    {% for item in data.items %}
        {% if not hide %}
        {%- if item | isArray %}
            <h2 class="govuk-heading-m govuk-!-margin-top-4 govuk-!-margin-bottom-0">{{data.title}} {{ loop.index }}</h2>
            {% for repeated in item %}
                {{ summaryRow(repeated) }}
            {% endfor %}
        {% else %}
          {{ summaryRow(item) }}
        {% endif %}
      {% endif %}
    {% endfor %}
  </dl>
{% endmacro %}
